[
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "I am a Data Scientist based in Cork, Ireland. I am currently working for Applied Intelligence Analytics Ltd. My primary work involves AI research and development on EU Defence projects with topics ranging from maritime surveillence to sensor fusion.\nI was a PhD student in the Data Science CDT at the University of Edinburgh. My research was focused on the use of similarity networks and unsupervised clustering for biomedical data. Running, bouldering and board games keep me sane when not banging my head against the monitor!\n\n\nPhD. Candidate in Centre for Doctoral Training in Data Scienc | University of Edinburgh, 2019 - Present\nMSc(R). in Data Science | University of Edinburgh, 2018-2019\nBSc. in Mathematical Sciences | University College Cork, 2014-2018\n\n\n\nCINNTE QQI Student Reviewer | QQI CINNTE review of Trinity College Dublin, Spring 2022\nAMGEN Scholar Research Intern | ETH Zurich, Summer 2017\nResearch Intern | Tyndall National Institute, Summer 2016"
  },
  {
    "objectID": "about.html#education",
    "href": "about.html#education",
    "title": "About",
    "section": "",
    "text": "PhD. Candidate in Centre for Doctoral Training in Data Scienc | University of Edinburgh, 2019 - Present\nMSc(R). in Data Science | University of Edinburgh, 2018-2019\nBSc. in Mathematical Sciences | University College Cork, 2014-2018"
  },
  {
    "objectID": "about.html#experience",
    "href": "about.html#experience",
    "title": "About",
    "section": "",
    "text": "CINNTE QQI Student Reviewer | QQI CINNTE review of Trinity College Dublin, Spring 2022\nAMGEN Scholar Research Intern | ETH Zurich, Summer 2017\nResearch Intern | Tyndall National Institute, Summer 2016"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Aidan Marnane",
    "section": "",
    "text": "Email\n  \n  \n    \n     Github\n  \n  \n    \n     LinkedIn\n  \n\n      \n\n\nI am a Data Scientist based in Cork, Ireland. I am currently working for Applied Intelligence Analytics Ltd. My primary work involves AI research and development on EU Defence projects with topics ranging from maritime surveillence to sensor fusion. A particular focus of my current work is the analysis of multi-variate time series.\n\n\nI was previously a PhD student in the Data Science CDT at the University of Edinburgh. My research was on unsupervised clustering of biomedical data through the construction of similarity networks. In my thesis, I explored and evaluated the current approaches used to construct similarity networks. I showcased the power of network construction methods for community detection in identifying subtypes of Cancer and Autism Spectrum Disorder. I highlighted the ability of these methods to incorporate incomplete multi-modal data. See here for my PhD Thesis\nThis work was supervised by Ian Simpson and funded in part by the EPSRC. My other research interests include graph learning, extacting and incorporating information from biomedical ontologies and the wider area of network science.\n\n\n\nAs part of my research, I developed a package for the analysis of similarity networks. This can be found at https://amarnane.github.io/simnetpy/. With this package you can generate complex synthetic data, construct similarity networks and perform unsupervised clustering. All included algorithms expect the number of clusters is unknown."
  },
  {
    "objectID": "index.html#phd-university-of-edinburgh",
    "href": "index.html#phd-university-of-edinburgh",
    "title": "Aidan Marnane",
    "section": "",
    "text": "I was previously a PhD student in the Data Science CDT at the University of Edinburgh. My research was on unsupervised clustering of biomedical data through the construction of similarity networks. In my thesis, I explored and evaluated the current approaches used to construct similarity networks. I showcased the power of network construction methods for community detection in identifying subtypes of Cancer and Autism Spectrum Disorder. I highlighted the ability of these methods to incorporate incomplete multi-modal data. See here for my PhD Thesis\nThis work was supervised by Ian Simpson and funded in part by the EPSRC. My other research interests include graph learning, extacting and incorporating information from biomedical ontologies and the wider area of network science."
  },
  {
    "objectID": "index.html#simnetpy",
    "href": "index.html#simnetpy",
    "title": "Aidan Marnane",
    "section": "",
    "text": "As part of my research, I developed a package for the analysis of similarity networks. This can be found at https://amarnane.github.io/simnetpy/. With this package you can generate complex synthetic data, construct similarity networks and perform unsupervised clustering. All included algorithms expect the number of clusters is unknown."
  },
  {
    "objectID": "posts/running-code-in-background/2023-03-28-run-scripts-in-background.html",
    "href": "posts/running-code-in-background/2023-03-28-run-scripts-in-background.html",
    "title": "Nohup & Tmux - Background Terminal Processes",
    "section": "",
    "text": "If you have a piece of code that takes a long time to complete e.g. a neural network that needs a day to train, a script that needs to download a million papers, a web scraper that needs to wait 10 seconds before recontacting a server (repeated 300,000 times) you will find you working remotely a bit frustrating. When you close your laptop it can disconnect. Or your internet at home is awful. Either way you send your script running overnight and come back in the morning to find the terminal disconnect and cancelled your script. All that time wasted because the connection between you and the server disconnected.\nWhat we want is to let our scripts/code run and the code to persist even if our terminal session ends. Luckily there are tools in linux that allow us to do this. There are three that I know of\nPreviously I have only used nohup. In some ways it is the simplest method. But today I am going to try to use some mild propaganda to convert you to tmux."
  },
  {
    "objectID": "posts/running-code-in-background/2023-03-28-run-scripts-in-background.html#getting-started",
    "href": "posts/running-code-in-background/2023-03-28-run-scripts-in-background.html#getting-started",
    "title": "Nohup & Tmux - Background Terminal Processes",
    "section": "getting started",
    "text": "getting started\nnohup is a command that tells your script to ignore the hang up signal that occurs when a terminal window is closed (in our case when our laptop disconnects from the server). It stands for “no hang up”. In practice, it is very simple to run. You simply add nohup in front of your normal script/command e.g.\nnohup python trainmymodel.py\nnohup ./mybashscript.sh\nWhen you do that you will find the process runs even if you disconnect or close the terminal. You can still cancel the command with keyboard interrupt (ctrl+c).\n\nscript output\nIf you run nohup you will find the output of any script e.g. print('hello world') will not appear. This is because all standard output is redirected to nohup.out, a file that is created when you run the command nohup. This is so you can still see the output of a script after you disconnect. You can change the name/specify the output file by using the “redirect” operator &gt; (second answer is clearer).\nnohup python trainmymodel.py &gt; output.log\nThis will send all output from our script into output.log.\n\nstandard error\nThe above script works great but you will find if any errors occur they will not appear. This is because the terminal has two separate ways of outputting\n\nstdout - standard output (normal output from scripts or commands)\nstderr - standard error (output caused by any errors).\n\nIn your terminal both of these appear the same and show up identically but you actually have to access them separately.\n\n\n\n\n\n\nNote\n\n\n\nThis is system has a number of benefits for admins or server hosts or people doing more complicated computer things. They can check just for errors rather than dealing with all output. Typically a PhD student won’t need to deal with this.\n\n\nTo get the standard error to output to our output file we use\nnohup python trainmymodel.py &gt; output.log 2&gt;&1\n2&gt;&1 tells standard error (output channel 2) to output instead through channel 1 (standard output). If we wanted the error to go to a separate file we could use\nnohup python trainmymodel.py &gt; output.log 2&gt;error.log\nA more detailed and more comprehensive explanation of the many ways you can manipulate linux output is available here.\n\n\nappend rather than overwrite\nThe last thing I should tell you is that we can append output to an existing log using &gt;&gt;. Here we use &gt; output.log which overwrites our output. If instead we wanted to keep the previous log we can use &gt;&gt;\nnohup python trainmymodel.py &gt;&gt; output.log 2&gt;&1\nHere we append output all output to the existing output.log file rather than overwriting.\n\n\n\n\n\n\nNote\n\n\n\n2&gt;&1 doesn’t change. This is because we are still redirecting stderr through stdout and when we do this we are note creating or overwriting output files.\n\n\n\n\n\nrunning in background\nWhile running with nohup means our script will not be cancelled when we disconnect, it does mean our terminal window cannot be used for other tasks and there is still the danger we accidentally cancel our script with keyboard interrupt (ctrl+c). To ensure our script does not get interrupted we can run our code in the background using &\nnohup python trainmymodel.py &gt; output.log  2&gt;&1 & \nNow our script cannot be interrupted through disconnect or through keyboard interrupt. A more detailed explanation of the different ways processes in the terminal can be interrupted is available in this very informative stack overflow post.\n\n\nkilling process\nOf course the next question is how do we stop our background process. Using keyboard interrupt or disconnecting won’t work anymore so we need to kill the process directly. To do this we have two steps.\n\nfind the process id (pid)\nkill the process manually\n\nTo find current active process we can use\nps aux \nThis lists all process associated with the current user (i.e. your processes). We can search for a particular process using grep.\nps aux | grep \"insertnameofscripthere\"\nSo we could use\nps aux | grep \"trainmymodel\"\nto find the pid that would occur if we used one of the example commands above.\nOnce we have the pid we can end the process using the kill command\nkill -9 putpidnumberhere\ne.g. kill -9 1234\n\nAutomatically finding process id\nWe can automatically find the process id and store it. You might notice that immediately after we run the command a pid appears. We can display that pid using\necho $! \n$! displays the last process executed (note this pid might not show up if & is not used. I don’t fully understand the command) We can store the pid in a file using\necho $! &gt; save_pid.txt\nWe can then kill the process\nkill -9 `cat save_pid.txt`\nThis command is a two step process; first cat prints the contents of save_pid.txt i.e. our pid, then we kill the process."
  },
  {
    "objectID": "posts/running-code-in-background/2023-03-28-run-scripts-in-background.html#tmux-commands",
    "href": "posts/running-code-in-background/2023-03-28-run-scripts-in-background.html#tmux-commands",
    "title": "Nohup & Tmux - Background Terminal Processes",
    "section": "tmux commands",
    "text": "tmux commands\nThis is a mixture of cheat sheet and guide of how to start tmux. I recommend this guide and this cheatsheet for a more in depth walkthrough of tmux. I think the official getting started guide is also great. They have some nice images explaining the terminal and go into much better depth of all of tmux’s features than I have (there is advanced copy paste tools I haven’t explored).\n\ninstall on ubuntu\nsudo apt-get update # first refresh package list\nsudo apt-get install tmux # then install tmux\nSee tmux guide for installation on other distributions/OS.\n\n\nCreate and manage sessions\ncreate new session\ntmux \nexit\nctrl+d\nlist active session\ntmux ls\nkill session by name -t means target\ntmux kill-ses -t 1\ncreate new named session\ntmux new -s mysession\ndetach from session\nctrl+b d\nlist all session\ntmux ls \nreattach to mysession\ntmux a -t mysession\nname session\nctrl+b $\n\n\nwindows\ncreate new window\nctrl+b c\nrename window\nctrl+b , \nmove to next window\nctrl+b n\nmove to previous window\nctrl+b p\nkill window\nctrl+b &\n\n\npanes\nhorizontal split on current window\nctrl+b %\nswap panes\nctrl+b o\nmove between panes using arrow keys\nctrl+b →\nctrl+b ←\nshow pane numbers\nctrl+b q\nkill pane\nctrl+b x\n\n\n\n\n\n\nNote\n\n\n\nTurning on mouse-mode is helpful especially when starting off. Use ctrl+b : to enter set-option mode then type set -g mouse on . See below for how to enable mouse-mode by default in the config."
  },
  {
    "objectID": "posts/running-code-in-background/2023-03-28-run-scripts-in-background.html#customising-tmux",
    "href": "posts/running-code-in-background/2023-03-28-run-scripts-in-background.html#customising-tmux",
    "title": "Nohup & Tmux - Background Terminal Processes",
    "section": "Customising tmux",
    "text": "Customising tmux\nThis is entirely optional so ignore it if you like. But I personally found editing the appearance and some of the commands very helpful for getting started with tmux.\nTo edit the tmux config and customise the visuals of tmux you add commands to ~/.tmux.conf. To edit the file in vscode simply type\ncode ~/.tmux.conf \nIf you make some changes e.g. turn on mouse mode by default (adding set -g mouse on to .tmux.conf) then you will need to refresh the tmux settings. One way is to close terminal and reconnect.\nAnother is\ntmux source-file ~/.tmux.conf\n\n\n\n\n\n\nNote\n\n\n\nThis is similar to refreshing bash setting by using source ~/.bashrc.\n\n\nBelow is the contents of my .tmux.conf . Most of it is aestethic but note: I change the command hotkey from ctrl+b to ctrl+a\nHere is the full list of the changes contained in the code below\n\nmouse mode - turn on mouse mode so I can click between windows & panes\nnew hotkey - change command hotkey from ctrl+b to ctrl+a (only because I find easier to type with one hand)\nenable colours\nmove status bar - from bottom to to top\nwindow index - start counting windows from 1 rather than 0\nnew colors - changed colours (from green) and added some different formatting (entirely personal preference)\n\nMy ~/.tmux.conf:\n# turn on colors\nset -g default-terminal \"xterm-256color\" # Setting the correct term\n\n# change tmux command binding to ctrl+a rather than ctrl+b\nset-option -g prefix C-a\nunbind-key C-b\nbind-key C-a send-prefix\n\n# turn on mouse mode\nset -g mouse on\n\n# change index to start from 1\nset -g base-index 1\n\n# Update the status line every second\nset -g status-interval 1\n\n# statusbar\n## position of bar and window lists\nset -g status-position top # [top | bottom]  status bar\nset -g status-justify left # [left | centre | right]  window lists\n## colours & format\nset -g status-style 'bg=blue fg=yellow'\nset -g status-left ''\nset -g status-right '#[fg=colour233,bg=cyan] %d/%m #[fg=colour233,bg=magenta] %H:%M:%S '\nset -g status-right-length 50\nset -g status-left-length 20\n# ^colour233 is a shade of grey that looked nice\n\n# set inactive window format and color\nset -g window-status-style 'fg=black, bg=brightblue'\nset -g window-status-format ' #I: #W #F'\n\n# set active window format and color\nsetw -g window-status-current-style 'fg=colour233, bg=yellow bold'\nset -g window-status-current-format ' #I: #W #F'\n# ^when setting format #F displays a * if in active window and - if not. \n#          #I is the index of the window, #W is the window name"
  },
  {
    "objectID": "posts/running-code-in-background/2023-03-28-run-scripts-in-background.html#footnotes",
    "href": "posts/running-code-in-background/2023-03-28-run-scripts-in-background.html#footnotes",
    "title": "Nohup & Tmux - Background Terminal Processes",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nPhoto by Caspar Camille Rubin on Unsplash↩︎"
  },
  {
    "objectID": "posts/scientific_figures/science-figures-matplotlib.html",
    "href": "posts/scientific_figures/science-figures-matplotlib.html",
    "title": "Scientific Figures - with matplotlib",
    "section": "",
    "text": "Default matplotlib is awful. It is hard to learn. There is a lot going on. It is not clear. And the matplotlib tutorial is awful (crazily it used to be worse). But the package is very good (once you get used to it). The customisation is amazing and it is so helpful when you want to make a specfic plot for your paper/thesis/poster.\n\n\n\n\n\n\nJust a slight aside\n\n\n\nAny tutorial that starts by telling you “everything on the figure is an artist” has no idea how people learn (what is an artist? Do I need to teach it to paint? will it work on its own?)"
  },
  {
    "objectID": "posts/scientific_figures/science-figures-matplotlib.html#several-ways-of-making-a-plot",
    "href": "posts/scientific_figures/science-figures-matplotlib.html#several-ways-of-making-a-plot",
    "title": "Scientific Figures - with matplotlib",
    "section": "Several ways of making a plot",
    "text": "Several ways of making a plot\nFirst create some data\n\nimport numpy as np\nimport matplotlib.pyplot as plt\nx = np.linspace(0,2,100)\ny1 = x**2\ny2 = x**3\n\n\n\n\nPyplot-style\n\n\nObject Oriented or subplot style\n\n\n\n\nplt.figure(figsize=(4,3))\nplt.plot(x, y1, label='quadratic')\nplt.plot(x, y2, label='cubic')\nplt.xlabel('x')\nplt.ylabel('y')\nplt.legend()\nplt.savefig('pyplotxy.png')\nplt.show()\n\n\n\n\n\nfig, ax = plt.subplots(figsize=(4,3))\nax.plot(x, y1, label='quadratic')\nax.plot(x, y2, label='cubic')\nax.set_xlabel('x')\nax.set_ylabel('y')\nax.legend()\nfig.savefig('subplotsxy.png')\nplt.show()\n\n\n\n\n\n\n\n\n\n\n\n\nImportant\n\n\n\nIGNORE PYPLOT STYLE IT IS AWFUL AND CONFUSING\n\n\nWhile it is easy to get started with, eventually it only leads to headaches. Firstly, all the commands are slightly different so if someone has written code subplot style it is hard to change it to plt style. Secondly nearly everyone on stack overflow uses subplot style. My advice: start with subplot style and just slowly learn how to change things."
  },
  {
    "objectID": "posts/scientific_figures/science-figures-matplotlib.html#figure-vs-axes",
    "href": "posts/scientific_figures/science-figures-matplotlib.html#figure-vs-axes",
    "title": "Scientific Figures - with matplotlib",
    "section": "Figure vs Axes",
    "text": "Figure vs Axes\nI always found this confusing when I was learning. And I don’t think it is very intuitive (especially the plt.Figure).\n\n\n1:\nEssentially the Figure is your canvas. It is the image you will download. It controls the size, the resolution and the layout of the image you create.\nAn axis is an individual plot. You can have many Axes in a Figure but each axis will have one xlabel, one ylabel, one legend etc. All the elements that make up a plot (a chart?) can be adjusted and set on an individual axis.\nRemember each Axis on a Figure can be adjusted individually but the quality of your image will depend on the settings of your Figure."
  },
  {
    "objectID": "posts/scientific_figures/science-figures-matplotlib.html#plt.subplots",
    "href": "posts/scientific_figures/science-figures-matplotlib.html#plt.subplots",
    "title": "Scientific Figures - with matplotlib",
    "section": "plt.subplots",
    "text": "plt.subplots\nAfter much messing about and trying different ways of creating matplotlib figures I have decided this is the only way. When you make a matplotlib figure start it with this line\n\nfig, ax = plt.subplots()\n\n\n\n\nThere are many settings you can change in plt.subplots\n\nnumber of rows/columns - how many axes you want\ndpi - number of dots per inch (resolution of image)\nfigsize - (width, height) in inches (increase if you need space)\nsharex/sharey - common x axis or y axis for the plots\n\nMain benefit is creating a grid of axis so you can have multiple plots in the same image.\n\nfig, axes = plt.subplots(2,2)\n\n\n\n\nIt creates a list of Axis instances (axes). To access a specific axis simply use the correct index (same as a python list).\n\n# access top left corner\nax = axes[0,0]\nax.plot(x,y1)\n\n# plot in top right corner\nax = axes[0,1]\nax.plot(x,y2)\n\n\n\n\n\n\n\nNote\n\n\n\nIf you only have a row or column there is only one dimension (index). So axes[0] will be the first row/column axes[1] the second etc.\nfig, axes = plt.subplots(1,2)\nax = axes[0]\nax = axes[1]\nYou can get a flattened list of axes using axes.flatten()."
  },
  {
    "objectID": "posts/scientific_figures/science-figures-matplotlib.html#create-functions",
    "href": "posts/scientific_figures/science-figures-matplotlib.html#create-functions",
    "title": "Scientific Figures - with matplotlib",
    "section": "Create functions",
    "text": "Create functions\nMaking good figures is hard so if you spend the time to make a function to plot some data that you will need again in the future make the code into a function. Even better add it to a .py file so you can import it in the future.\nJust remember you save and show the figure. You manipulate the data with an axis. I don’t fully understand how this works in terms of memory but the way I approach plotting functions is to add a parameter to accept an axis and to create a new figure if an axis isn’t passed. For example\n\ndef myplot(x,y,ax=None, **kwargs):\n    # create a figure if not given an axis\n    if ax is None:\n        fig, ax  = plt.subplots()\n    else:\n        fig = None # stop not defined error when returning\n    # plot xy\n    ax.plot(x,y, **kwargs)\n    \n    return fig, ax # if ax is passed as a param then fig will be None\n\nfig, ax = myplot(x, y1, color='C2') # note you can use C0, C1, C2 to cycle through the default colors in matplotlib.\n\nax.plot(x, y2)\nfig.suptitle('Function Plot')\nplt.show()\n\n\n\n\n\n\n\n\n\n\nNote\n\n\n\nNote: **kwargs means keyword arguments. ** is a special operator in python that unpacks dictionaries. It means you don’t have to constantly rewrite many optional parameters. It also collects extra keyword arguments. For example, I might want to change the linestyle and alpha of my plot. I can call my function myplot(x,y, linestyle='-', alpha=0.5) and they will get passed to ax.plot within myplotf.\nYou might also see *args. * unpacks lists. So x,y is an unpacked list and might be specified in the functions definition as def myfunc(*args, **kwargs): (which isn’t very informative but happens more often than you would think.)"
  },
  {
    "objectID": "posts/scientific_figures/science-figures-matplotlib.html#change-dpi-not-figsize",
    "href": "posts/scientific_figures/science-figures-matplotlib.html#change-dpi-not-figsize",
    "title": "Scientific Figures - with matplotlib",
    "section": "change dpi not figsize",
    "text": "change dpi not figsize\nA common problem when looking to save or use your figures in publications is that your figure is not big enough/sharp enough/the date is hard to make out. The first argument people typically use to adjust the size of the figure is figsize. This does make the figure bigger but it does not make the figure sharper.\n\n\n\nfigsize\n\nSets the size of the figure (width, height) in inches.​\nProblem: Breaks ratio between linewidth, whitespace and fontsize\n\n\n\ndpi - Dots per Inch\n\nIncreases the resolution by adding dots.​\nKeeps ratio between linewidth, whitespace and fontsize\n\n\n\n\n\ndef plot(fs,dpi):\n    fig, ax=plt.subplots(figsize=fs, dpi=dpi)\n    ax.set_title(\"Figsize: {}, dpi: {}\".format(fs,dpi))\n    ax.plot([2,4,1,5], label=\"Label\")\n    ax.legend()\n    plt.show()\n\nfigsize=(2,2)\nfor i in [36, 108, 324]:\n    plot(figsize, i)\n\ndpi=72\nfor i in [2,4,6]:\n    plot((i,i), dpi)"
  },
  {
    "objectID": "posts/scientific_figures/science-figures-matplotlib.html#styles-context",
    "href": "posts/scientific_figures/science-figures-matplotlib.html#styles-context",
    "title": "Scientific Figures - with matplotlib",
    "section": "Styles & Context",
    "text": "Styles & Context\nEven if you don’t use the seaborn plotting functions setting the theme and context are great for improving the aestethics. The set context is particularly useful for posters.\n\nThemes\nContext\n\nThis seaborn tutorial is great and shows how you can even choose different themes for different subplot axes.\nmatplotlib has it’s own set of themes available. To set the theme for matplotlib it is very similar to seaborn.\n\n\nCode\ndef plot_style_example():\n    fig, ax = plt.subplots()\n    ax.plot(x, x, label='linear')  # Plot some data on the axes.\n    ax.plot(x, y1, label='quadratic')  # Plot more data on the axes...\n    ax.plot(x, y2, label='cubic')  # ... and some more.\n    ax.set_xlabel('x label')  # Add an x-label to the axes.\n    ax.set_ylabel('y label')  # Add a y-label to the axes.\n    ax.set_title(\"Simple Plot\")  # Add a title to the axes.\n    ax.legend()\n    plt.show() \n\nplt.style.use('default')\n# plot as normal\nplot_style_example()\n\nplt.style.use('tableau-colorblind10')\n# plot as normal\nplot_style_example()\n\nplt.style.use('default')\nplt.style.use('ggplot')\n# plot as normal\nplot_style_example()\n\nplt.style.use('default') # reset style after changing it. Not all style adjust same \nplt.style.use('fivethirtyeight')\n# plot as normal\nplot_style_example()\n\n\n\n\n\n\n\ndefault\n\n\n\n\n\n\n\ntableau-colorblind10\n\n\n\n\n\n\n\n\n\nggplot\n\n\n\n\n\n\n\nfivethirtyeight\n\n\n\n\n\n\nMatplotlib Themes\n\n\n\n\nTo see a list of the theme’s available\n\nplt.style.available\n\n['Solarize_Light2',\n '_classic_test_patch',\n '_mpl-gallery',\n '_mpl-gallery-nogrid',\n 'bmh',\n 'classic',\n 'dark_background',\n 'fast',\n 'fivethirtyeight',\n 'ggplot',\n 'grayscale',\n 'seaborn-v0_8',\n 'seaborn-v0_8-bright',\n 'seaborn-v0_8-colorblind',\n 'seaborn-v0_8-dark',\n 'seaborn-v0_8-dark-palette',\n 'seaborn-v0_8-darkgrid',\n 'seaborn-v0_8-deep',\n 'seaborn-v0_8-muted',\n 'seaborn-v0_8-notebook',\n 'seaborn-v0_8-paper',\n 'seaborn-v0_8-pastel',\n 'seaborn-v0_8-poster',\n 'seaborn-v0_8-talk',\n 'seaborn-v0_8-ticks',\n 'seaborn-v0_8-white',\n 'seaborn-v0_8-whitegrid',\n 'tableau-colorblind10']\n\n\n\n\n\n\n\n\nNote\n\n\n\nDifferent theme’s change different settings. Use plt.style.use('default') to reset before changing to a new theme.\n\n\nPersonally I think sns.set_context is great for switching between paper and poster images. The increase in line width and reduction of white space is great on a poster and is so simple to switch between the two. Note: The themes available in matplotlib contain seaborn poster and seaborn paper styles. These themes do not quite replicate the behaviour of sns.set_context and if you have a choice between the two use sns.set_context('poster') over plt.style.use('seaborn-v0_8-poster').\n\n\nCode\nplt.style.use('default')\nsns.set_context('paper')\n# plot as normal\nplot_style_example()\n\nplt.style.use('default')\nsns.set_context('talk')\n# plot as normal\nplot_style_example()\n\nplt.style.use('default')\nsns.set_context('poster')\n# plot as normal\nplot_style_example()\n\n\n\n\n\n\n\npaper\n\n\n\n\n\n\n\ntalk\n\n\n\n\n\n\n\nposter\n\n\n\n\n\n\nSeaborn Set Context"
  },
  {
    "objectID": "posts/scientific_figures/science-figures-matplotlib.html#ggplot-esque",
    "href": "posts/scientific_figures/science-figures-matplotlib.html#ggplot-esque",
    "title": "Scientific Figures - with matplotlib",
    "section": "ggplot esque",
    "text": "ggplot esque\nThey have an experimental interface that is recently added seaborn.objects. They have a nice run through here. Basic idea is you specify the data with a plot object and then add options such as type of plot (line/scatter/barchart) and data trasformations (aggregate/normalise).\nLooks cool and intuitive but is in development and again will be tricky to customise."
  },
  {
    "objectID": "posts/scientific_figures/science-figures-matplotlib.html#footnotes",
    "href": "posts/scientific_figures/science-figures-matplotlib.html#footnotes",
    "title": "Scientific Figures - with matplotlib",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nPhoto by Justyn Warner on Unsplash↩︎"
  },
  {
    "objectID": "posts/starting-with-quarto/start-with-quarto.html",
    "href": "posts/starting-with-quarto/start-with-quarto.html",
    "title": "Getting Started with Quarto",
    "section": "",
    "text": "In this document we will introduce a number of the key features Quarto markdown files support. We will be following the basic tutorial from Quarto as well as summarising some of the more advanced features introduced in their comprehensive guide. 11 Blog photo by Setyaki Irham from Unsplash"
  },
  {
    "objectID": "posts/starting-with-quarto/start-with-quarto.html#what-is-quarto",
    "href": "posts/starting-with-quarto/start-with-quarto.html#what-is-quarto",
    "title": "Getting Started with Quarto",
    "section": "What is Quarto?",
    "text": "What is Quarto?\nQuarto allows you to easily share and publish your code/analysis/research through any of markdown/jupyter/knitr. It is an extension of pandoc and offers support for python/R/Julia.\n\nBest features\n\nrender jupyter notebooks\nrender markdown with code\nadvanced visual customisation - figures, layout, citations\ncreate simple and easily customisable websites\nGreat integration with VSCode and Github Pages."
  },
  {
    "objectID": "posts/starting-with-quarto/start-with-quarto.html#why-use-quarto",
    "href": "posts/starting-with-quarto/start-with-quarto.html#why-use-quarto",
    "title": "Getting Started with Quarto",
    "section": "Why use quarto?",
    "text": "Why use quarto?\nSharing jupyter notebooks is tedious. Either you share a link to a prerendered notebook on github or you awkwardly convert to html/pdf with a variety of tools.\nThe problem? The conversion of a notebook is awkward. Often you have to choose between removing all or including all the code. And while the markdown support within jupyter is good again the customisation is limited.\nQuarto solves this. It is a rendering tool that gives you a number of options with customise how code, figures and text are arranged when converting to html and pdf.\nEven better it provides a new markdown format .qmd that allows you to write python code within a markdown document (similar to R markdown) or link to figures within a precomputed jupyter notebook."
  },
  {
    "objectID": "posts/starting-with-quarto/start-with-quarto.html#numpy",
    "href": "posts/starting-with-quarto/start-with-quarto.html#numpy",
    "title": "Getting Started with Quarto",
    "section": "NumPy",
    "text": "NumPy\nCreate code blocks in markdown using ```{python}\n```{python}\nimport numpy as np\na = np.arange(15).reshape(3, 5)\na\n```\n\n\nCode\nimport numpy as np\na = np.arange(15).reshape(3, 5)\na\n\n\narray([[ 0,  1,  2,  3,  4],\n       [ 5,  6,  7,  8,  9],\n       [10, 11, 12, 13, 14]])"
  },
  {
    "objectID": "posts/starting-with-quarto/start-with-quarto.html#matplotlib",
    "href": "posts/starting-with-quarto/start-with-quarto.html#matplotlib",
    "title": "Getting Started with Quarto",
    "section": "Matplotlib",
    "text": "Matplotlib\nControl how figures appear with comments #| keyword: value. 22 The getting started tutorial has a nice description of the main options for figures and code output\n```{python}\n#| label: fig-limits-eg\n#| fig-cap: \"Errorbar limit selector\"\n\nimport matplotlib.pyplot as plt\n\nfig = plt.figure()\nx = np.arange(10)\ny = 2.5 * np.sin(x / 20 * np.pi)\nyerr = np.linspace(0.05, 0.2, 10)\n\nplt.errorbar(x, y + 3, yerr=yerr, label='both limits (default)')\nplt.errorbar(x, y + 2, yerr=yerr, uplims=True, label='uplims=True')\nplt.errorbar(x, y + 1, yerr=yerr, uplims=True, lolims=True,\n             label='uplims=True, lolims=True')\n\nupperlimits = [True, False] * 5\nlowerlimits = [False, True] * 5\nplt.errorbar(x, y, yerr=yerr, uplims=upperlimits, lolims=lowerlimits,\n             label='subsets of uplims and lolims')\n\nplt.legend(loc='lower right')\nplt.show(fig)\n```\n\n\nCode\nimport matplotlib.pyplot as plt\n\nfig = plt.figure()\nx = np.arange(10)\ny = 2.5 * np.sin(x / 20 * np.pi)\nyerr = np.linspace(0.05, 0.2, 10)\n\nplt.errorbar(x, y + 3, yerr=yerr, label='both limits (default)')\nplt.errorbar(x, y + 2, yerr=yerr, uplims=True, label='uplims=True')\nplt.errorbar(x, y + 1, yerr=yerr, uplims=True, lolims=True,\n             label='uplims=True, lolims=True')\n\nupperlimits = [True, False] * 5\nlowerlimits = [False, True] * 5\nplt.errorbar(x, y, yerr=yerr, uplims=upperlimits, lolims=lowerlimits,\n             label='subsets of uplims and lolims')\n\nplt.legend(loc='lower right')\nplt.show(fig)\n\n\n\n\n\nFigure 1: Errorbar limit selector"
  },
  {
    "objectID": "posts/starting-with-quarto/start-with-quarto.html#plotly",
    "href": "posts/starting-with-quarto/start-with-quarto.html#plotly",
    "title": "Getting Started with Quarto",
    "section": "Plotly",
    "text": "Plotly\n\nDefault plotting without options\n\n\nCode\nimport plotly.express as px\nimport plotly.io as pio\ngapminder = px.data.gapminder()\ngapminder2007 = gapminder.query(\"year == 2007\")\nfig = px.scatter(gapminder2007, \n                 x=\"gdpPercap\", y=\"lifeExp\", color=\"continent\", \n                 size=\"pop\", size_max=60,\n                 hover_name=\"country\")\nfig.show()\n\n\n\n                                                \n\n\n\n\nCustomisation With Options\n```{python}\n#| label: fig-gapminder\n#| fig-cap: \"Life Expectancy and GDP\"\n#| fig-subcap:\n#|   - \"Gapminder: 1957\"\n#|   - \"Gapminder: 2007\"\n#| layout-ncol: 2\n#| column: page\n\n```\n\n\nCode\nimport plotly.express as px\nimport plotly.io as pio\ngapminder = px.data.gapminder()\ngapminder2007 = gapminder.query(\"year == 2007\")\nfig = px.scatter(gapminder2007, \n                 x=\"gdpPercap\", y=\"lifeExp\", color=\"continent\", \n                 size=\"pop\", size_max=60,\n                 hover_name=\"country\")\nfig.show()\n\ngapminder1957 = gapminder.query(\"year == 1957\")\nfig = px.scatter(gapminder1957, \n                 x=\"gdpPercap\", y=\"lifeExp\", color=\"continent\", \n                 size=\"pop\", size_max=60,\n                 hover_name=\"country\")\nfig.show()\n\n\n\n\n\n\n\n                                                \n(a) Gapminder: 1957\n\n\n\n\n\n                                                \n(b) Gapminder: 2007\n\n\n\nFigure 2: Life Expectancy and GDP"
  },
  {
    "objectID": "posts/starting-with-quarto/start-with-quarto.html#from-notebooks",
    "href": "posts/starting-with-quarto/start-with-quarto.html#from-notebooks",
    "title": "Getting Started with Quarto",
    "section": "From Notebooks",
    "text": "From Notebooks\nIt is simple to embed plots from precomputed notebooks and include a link.\n{{&lt; embed penguins.ipynb#fig-bill-scatter &gt;}}\n\n\n\n\n\n\n\nFigure 3: A scatterplot of bill dimensions for penguins, made with Altair.\n\n\n\nSource: Plots and Computations\n{{&lt; embed penguins.ipynb#fig-bill-marginal &gt;}}\n\n\n\n\n\n\n\n\n(a) Gentoo penguins tend to have thinner bills,\n\n\n\n\n\n\n\n(b) and Adelie penguins tend to have shorter bills.\n\n\n\n\nFigure 4: Marginal distributions of bill dimensions\n\n\nSource: Plots and Computations\nYou can also include the code by specifying echo=true in the call.\n{{&lt; embed penguins.ipynb#species-counts echo=true &gt;}}\n\n\n\nCode\npenguins.groupby(\"species\").size().reset_index(name = \"count\")\n\n\n\n\n\n\n\n\n\nspecies\ncount\n\n\n\n\n0\nAdelie\n152\n\n\n1\nChinstrap\n68\n\n\n2\nGentoo\n124\n\n\n\n\n\n\n\nSource: Plots and Computations\nYou can control how the link to the notebook appears in the title metadata 33 See the notebook embedding tutorial for more info\nnotebook-view:\n  - notebook: penguins.ipynb\n    title: \"Plots and Computations\""
  },
  {
    "objectID": "posts/starting-with-quarto/start-with-quarto.html#rendering-code",
    "href": "posts/starting-with-quarto/start-with-quarto.html#rendering-code",
    "title": "Getting Started with Quarto",
    "section": "rendering code",
    "text": "rendering code\nThere are a number of ways to control the rendering of code. For example, if you have a notebook with some code that takes a long time to run you won’t want to recompute it everytime you change formatting. There are many options to control this behaviour. 44 see the python tutorial for a more in depth explanation\nexecute:\n  freeze: true"
  },
  {
    "objectID": "posts/starting-with-quarto/start-with-quarto.html#callout-blocks",
    "href": "posts/starting-with-quarto/start-with-quarto.html#callout-blocks",
    "title": "Getting Started with Quarto",
    "section": "callout blocks",
    "text": "callout blocks\nQuarto has nice control for adding note blocks. There are five formats 5 - note - warning - important - tip - caution5 See their tutorial for a more in depth explanation To add a callout note use {.callout-note} or {.callout-important} etc\n::: {.callout-note}\nNote that there are five types of callouts, including:\n`note`, `warning`, `important`, `tip`, and `caution`.\n:::\n\n::: {.callout-tip}\n## Tip with Title\n\nThis is an example of a callout with a title. See [their tutorial](https://quarto.org/docs/authoring/callouts.html) for a more in depth explanation\n:::\n\n::: {.callout-caution collapse=\"true\"}\n## Expand To Learn About Collapse\n\nThis is an example of a 'folded' caution callout that can be expanded by the user. You can use `collapse=\"true\"` to collapse it by default or `collapse=\"false\"` to make a collapsible callout that is expanded by default.\n:::\n\n\n\n\n\n\nNote\n\n\n\nNote that there are five types of callouts, including: note, warning, important, tip, and caution.\n\n\n\n\n\n\n\n\nTip with Title\n\n\n\nThis is an example of a callout with a title.\n\n\n\n\n\n\n\n\nExpand To Learn About Collapse\n\n\n\n\n\nThis is an example of a ‘folded’ caution callout that can be expanded by the user. You can use collapse=\"true\" to collapse it by default or collapse=\"false\" to make a collapsible callout that is expanded by default."
  },
  {
    "objectID": "posts/starting-with-quarto/start-with-quarto.html#cross-referencing",
    "href": "posts/starting-with-quarto/start-with-quarto.html#cross-referencing",
    "title": "Getting Started with Quarto",
    "section": "Cross referencing",
    "text": "Cross referencing\n\n\nCode\nimport matplotlib.pyplot as plt\nplt.plot([1,23,2,4])\nplt.show()\n\n\n\n\n\nFigure 5: A line plot\n\n\n\n\nThis is a cross reference to our figure Figure 5 with @fig-line-plot. We can also reference the matplotlib figure above Figure 1 @fig-limits.\n\n\n\n\n\n\nNote\n\n\n\nYou must start your label with fig- e.g. fig-line-plot for the cross reference to work."
  },
  {
    "objectID": "posts/starting-with-quarto/start-with-quarto.html#citations",
    "href": "posts/starting-with-quarto/start-with-quarto.html#citations",
    "title": "Getting Started with Quarto",
    "section": "Citations",
    "text": "Citations\nYou can include citations by including a bibliography.\nFor example, Antoine et al produced some sick work (Lain et al. 2022).\nAdd a path to your bibliography in the title metadata\n---\ntitle: \"My Document\"\nbibliography: references.bib\n---\nYou can customise citation style and more.66 Footnotes are also possible. For more guidance see the quarto tutorial\n---\ntitle: \"My Document\"\nbibliography: references.bib\ncsl: nature.csl\n---\n\n\n\n\n\n\nNote\n\n\n\nYou can download csl files from the CSL repo. nature.csl was taken from here (there are so many I had to search to get it.)\n\n\nCitation can also be placed in the margin by adding\ncitation-location: margin"
  },
  {
    "objectID": "posts/starting-with-quarto/start-with-quarto.html#equations",
    "href": "posts/starting-with-quarto/start-with-quarto.html#equations",
    "title": "Getting Started with Quarto",
    "section": "Equations",
    "text": "Equations\nWe can also write equations.\nThey can be placed inline \\(\\frac{d}{dx}\\left( \\int_{a}^{x} f(u)\\,du\\right)=f(x).\\) $\\frac{d}{dx}\\left( \\int_{a}^{x} f(u)\\,du\\right)=f(x).$.\nThey can be placed centrally.\n$$\\frac{d}{dx}\\left( \\int_{a}^{x} f(u)\\,du\\right)=f(x).$$\n\\[\\frac{d}{dx}\\left( \\int_{a}^{x} f(u)\\,du\\right)=f(x).\\]\nBut they can also be placed in the margin\n::: {.column-margin}\nWe know from *the first fundamental theorem of calculus* that for $x$ in $[a, b]$:\n\n\n$$\\frac{d}{dx}\\left( \\int_{a}^{x} f(u)\\,du\\right)=f(x).$$\n\n:::\n\n\n\n\n\n\n\nWe know from the first fundamental theorem of calculus that for \\(x\\) in \\([a, b]\\):\n\\[\\frac{d}{dx}\\left( \\int_{a}^{x} f(u)\\,du\\right)=f(x).\\]"
  },
  {
    "objectID": "posts/working-on-remote-server/2023-03-17-working-on-a-remote-server.html",
    "href": "posts/working-on-remote-server/2023-03-17-working-on-a-remote-server.html",
    "title": "Remote working with ssh & VSCode",
    "section": "",
    "text": "I really like working on a remote server. I find there are a number of benefits over coding locally that are worth taking the time to set it all up.\n\nWork wherever I want. Either on my desktop machine or on my laptop and I can always access the the same environment. I don’t have to worry if I installed something new on one machine or if I moved the correct data around. It all stays in the same place and I can access it as I need.\nRunning long programs. If something takes a couple of hours or days, you don’t need to worry about shutting down or moving your laptop. You especially don’t have to deal with lag or memory issues while you wait for it to finish (I am very impatient).\n\n\n\n1\nIn summary: more ram, more memory, more fun.\n\n\nThe main tool I use to work remotely is vscode. VSCode is an IDE developed by microsoft. It is lightweight, there are a lot of extensions that make coding nice and it has a great setup for remote work. I believe Pycharm has a similar setup and as students we can get a licence but honestly my main problem is it takes ages to open up and I am a true believer in making things as smooth as possible to start work (otherwise procrasination can take over).\n\n\nRunning vscode on a remote computer or server is very simple. There are 3 steps\n\ninstall remote server extension\nadd server details to .ssh/config. The simplest way is to\n\nctrl+shift+p Remote-SSH: Add New SSH Host\ntype ssh connection e.g. ssh username@server.address\nAn entry has now been made to your ssh config (will explain below)\n\nConnect to server using ctrl+shift+p Remote-SSH: Connect to Host\n\nAfter that you just open a folder/file and can code away with all code running remotely.\n\n\n\n\nSome tips I find helpful.\n\nBackup code: write code in github repos and commit regularly! It is so important to have a backup. If something goes wrong the code is gone forever! Plus if you don’t like changes you make you can revert to code you wrote 3 months ago.\nPasswordless ssh connections: Add your public key from your local computer to the accepted keys on the server. You won’t have to to type passwords again and again. Do same thing for git, add public key to accepted keys on github. 2\nCreate source code: I like doing analysis in jupyter notebooks but I often find they get cluttered, messy and it is tedious to look back through notebooks and access functions or scripts that I wrote. Good practice is to move functions/classes you use regularly to .py as source code and create scripts that accept command line arguments for specific analysis/tasks you will want to do regularly. 3\nMove data: Use rsync to move data from your computer to the server and vice versa.\n\nrsync -azP source destination\n\n-z flag compresses the data as it is copied so is very efficient.\n-a flag,which stands for archive, syncs recursively and allows to transfer folders. Is similar to -r flag but keeps permissions, timestamps, ownership and other things (more likely to stop things breaking).\n-P gives progress bar and resumes interrupted transfers.\n\nThe format is: rsync -azP local_path_2_folder username@server.address:path_on_remote_server e.g. rsync -azP ~/dir1 amarnane@myserver.inf.ed.ac.uk:~/docs/ (flip order to move from remote to local)\nThere are many more options that I haven’t explored yet but this a nice tutorial\n\nYou will not remember this [code/analysis/function]: Some general PhD advice but make sure to write out explanations in notebooks, comment regularly in your code and try to datestamp or include copy of the code used to generate any figures or models or data that you publish/use in a presentation/report. At some point you will drop what you are currently working on and will come back to it after a couple of months/years. You will not remember what exactly it was you did. Make it easier for yourself! 4\nNext step/Advanced/I have not done this:\n\nUse docker instances so that you can easily share your environment/model and have it run right away. It allows you to save a copy of your setup so people can just run your code e.g. run a model developed on linux in a windows machine.\nUse a workflow system like snakemake or nextflow to combine scripts and make and end to end pipline for your project. If you have multiple steps like preprocess data -&gt; create data stucture -&gt; train model -&gt; analyse output you can combine them easily using a workflow system and pass the output from one section to the other easily. It is more modular and adaptable than writing an end to end script (if your code is python only) and allows you to pass output from one language to a script using different software e.g. python train model, R analyse and plot. Can also add checkpoints to start the pipeline from any intermediate step e.g. change model and skip rerunning preprocessing.\n\n\n\n\n\nssh or Secure shell is a protocol used to access remote computers over a network. The link will describe it better than I can but the main thing to know is that it is a way to access other computers in a safe way. It is very secure and as a phd student the main thing to know is you can use it work remotely, create passwordless connections and passwordless git repos. If you ever want to use a cluster or connect to a remote server, ssh is the way to do it. On linux the connections are done through the terminal (or vscode as I described above). On windows, it used to be a bit trickier but you can now access it through powershell and vscode.\nTo connect to a remote computer you go to the terminal and type the simple command\nssh username@server.addresss\nAs an example suppose I have an account amarnane on myserver.inf.ed.ac.uk. To connect to myserver I type\nssh amarnane@myserver.ed.ac.uk\nYou will then receive a prompt to enter my password and are connected.\n\n\nFirst check what keys/files exist in your .ssh folder\nls ~/.ssh\nssh keys will look something like\nid_ed25519          id_ed25519.pub         id_rsa      id_rsa.pub\nThey are public/private pairs. Never share your private key. The public key is shared with remote systems (myserver or github) so they can check it matches the private key when you connect.\nIf no keys are present you will need to generate keys. The names rsa/ed25519 are names of algorithms for generate keys. rsa was the most common but is now quite old. ed25519 is more secure and recommended. If you do use rsa, it is recommended to create one with higher bits. The commands you will commonly see are\nssh-keygen -t rsa -b 4096\nssh-keygen -t ed25519\n-b here specifies the size of the key in bits. Pick one and now an id_rsa or id_ed25519 private&public pair will be present in your .ssh folder. A nice explanation of the algorithms and keys in general can be found here.\nWe now want to add our public key to the authorized keys in the remote server. First we need to copy the public key to the server\nscp ~/.ssh/id_ed25519.pub username@server.address:~/\n(we could use rsync here as shown above. scp works similarly.)\nWe then need to connect to the server\nssh username@server.address\nWe are now on the remote server. First check id_ed25519.pub was copied successfully,\nls ~/\nNow check if our authorized_keys file exists\nls ~/.ssh\nIf it doesn’t exist we need to create it\ntouch ~/.ssh/authorized_keys\ntouch is a helpful command that creates an empty text file. The authorized_keys file is simply a list of public keys. We you connect using ssh it checks if your key private key against the public keys stored in the authorized key list, if its a match you can connect.\nNow we want to add our public key to the authorized key list\ncat ~/id_ed25519.pub &gt;&gt; ~/.ssh/authorized_keys\ncat displays the contents of a file (in this case our public key) and &gt;&gt; pipes it into a file. So instead of seeing the output of the file in terminal, it is placed in the authorized_keys file. Note: &gt;&gt; appends to the end of the file. We could also use &gt; but this writes to file and would overwrite the content in authorized_keys.\n\n\n\n\nGuide to add ssh key to your github account (passwordless git commit, push, pull etc)\nMore in depth guide to add ssh key to authorized keys to allow passwordless ssh connections\n\n\n\n\n\nI discovered the ssh config through vscode (it is how it handles remote connections) but it is incredibly useful. It is particularly useful for complex ssh commands that involve a number of options like portforwarding or use a proxy to connect to a server. It really slims down how much you have to type and how many usernames server address etc you have to remember. The format is very simple. You write out the options for your connections and give it a name.\nSo instead of\nssh username@server.address\nYou can type\nssh myserver \nBy adding\nHost myserver\n    HostName server.address\n    User username\nto the ssh config file.\n\n\nFirst check the config file exists, your config should be located at ~/.ssh/config\nls ~/.ssh\nIf not create it using touch\ntouch ~/.ssh/config\nThe config file is simply a text file that has a specific format\nHost hostname1\n    SSH_OPTION value\n    SSH_OPTION value\n\nHost hostname2\n    SSH_OPTION value\n\n\n\nHere is an example of my setup to allow me to connect to myserver.inf.ed.ac.uk\nHost myserver\n    HostName myserver.inf.ed.ac.uk\n    User amarnane\n    ServerAliveInterval 30\nNote: I have made ServerAliveInterval smaller than default to try reduce the number of disconnects that happen while I work.\nSo now if I want to connect via ssh or copy files from my computer to the server I can just use myserver. For example moving public key to the server\nscp ~/.ssh/id_ed25519.pub myserver:~/\n\n\n\n\n\nSome more in depth guides for the config are here(I find this one easier to follow) and here\nList of all possible options to add to the config"
  },
  {
    "objectID": "posts/working-on-remote-server/2023-03-17-working-on-a-remote-server.html#vscode",
    "href": "posts/working-on-remote-server/2023-03-17-working-on-a-remote-server.html#vscode",
    "title": "Remote working with ssh & VSCode",
    "section": "",
    "text": "The main tool I use to work remotely is vscode. VSCode is an IDE developed by microsoft. It is lightweight, there are a lot of extensions that make coding nice and it has a great setup for remote work. I believe Pycharm has a similar setup and as students we can get a licence but honestly my main problem is it takes ages to open up and I am a true believer in making things as smooth as possible to start work (otherwise procrasination can take over).\n\n\nRunning vscode on a remote computer or server is very simple. There are 3 steps\n\ninstall remote server extension\nadd server details to .ssh/config. The simplest way is to\n\nctrl+shift+p Remote-SSH: Add New SSH Host\ntype ssh connection e.g. ssh username@server.address\nAn entry has now been made to your ssh config (will explain below)\n\nConnect to server using ctrl+shift+p Remote-SSH: Connect to Host\n\nAfter that you just open a folder/file and can code away with all code running remotely."
  },
  {
    "objectID": "posts/working-on-remote-server/2023-03-17-working-on-a-remote-server.html#tips-for-remote-work",
    "href": "posts/working-on-remote-server/2023-03-17-working-on-a-remote-server.html#tips-for-remote-work",
    "title": "Remote working with ssh & VSCode",
    "section": "",
    "text": "Some tips I find helpful.\n\nBackup code: write code in github repos and commit regularly! It is so important to have a backup. If something goes wrong the code is gone forever! Plus if you don’t like changes you make you can revert to code you wrote 3 months ago.\nPasswordless ssh connections: Add your public key from your local computer to the accepted keys on the server. You won’t have to to type passwords again and again. Do same thing for git, add public key to accepted keys on github. 2\nCreate source code: I like doing analysis in jupyter notebooks but I often find they get cluttered, messy and it is tedious to look back through notebooks and access functions or scripts that I wrote. Good practice is to move functions/classes you use regularly to .py as source code and create scripts that accept command line arguments for specific analysis/tasks you will want to do regularly. 3\nMove data: Use rsync to move data from your computer to the server and vice versa.\n\nrsync -azP source destination\n\n-z flag compresses the data as it is copied so is very efficient.\n-a flag,which stands for archive, syncs recursively and allows to transfer folders. Is similar to -r flag but keeps permissions, timestamps, ownership and other things (more likely to stop things breaking).\n-P gives progress bar and resumes interrupted transfers.\n\nThe format is: rsync -azP local_path_2_folder username@server.address:path_on_remote_server e.g. rsync -azP ~/dir1 amarnane@myserver.inf.ed.ac.uk:~/docs/ (flip order to move from remote to local)\nThere are many more options that I haven’t explored yet but this a nice tutorial\n\nYou will not remember this [code/analysis/function]: Some general PhD advice but make sure to write out explanations in notebooks, comment regularly in your code and try to datestamp or include copy of the code used to generate any figures or models or data that you publish/use in a presentation/report. At some point you will drop what you are currently working on and will come back to it after a couple of months/years. You will not remember what exactly it was you did. Make it easier for yourself! 4\nNext step/Advanced/I have not done this:\n\nUse docker instances so that you can easily share your environment/model and have it run right away. It allows you to save a copy of your setup so people can just run your code e.g. run a model developed on linux in a windows machine.\nUse a workflow system like snakemake or nextflow to combine scripts and make and end to end pipline for your project. If you have multiple steps like preprocess data -&gt; create data stucture -&gt; train model -&gt; analyse output you can combine them easily using a workflow system and pass the output from one section to the other easily. It is more modular and adaptable than writing an end to end script (if your code is python only) and allows you to pass output from one language to a script using different software e.g. python train model, R analyse and plot. Can also add checkpoints to start the pipeline from any intermediate step e.g. change model and skip rerunning preprocessing."
  },
  {
    "objectID": "posts/working-on-remote-server/2023-03-17-working-on-a-remote-server.html#ssh-connections",
    "href": "posts/working-on-remote-server/2023-03-17-working-on-a-remote-server.html#ssh-connections",
    "title": "Remote working with ssh & VSCode",
    "section": "",
    "text": "ssh or Secure shell is a protocol used to access remote computers over a network. The link will describe it better than I can but the main thing to know is that it is a way to access other computers in a safe way. It is very secure and as a phd student the main thing to know is you can use it work remotely, create passwordless connections and passwordless git repos. If you ever want to use a cluster or connect to a remote server, ssh is the way to do it. On linux the connections are done through the terminal (or vscode as I described above). On windows, it used to be a bit trickier but you can now access it through powershell and vscode.\nTo connect to a remote computer you go to the terminal and type the simple command\nssh username@server.addresss\nAs an example suppose I have an account amarnane on myserver.inf.ed.ac.uk. To connect to myserver I type\nssh amarnane@myserver.ed.ac.uk\nYou will then receive a prompt to enter my password and are connected.\n\n\nFirst check what keys/files exist in your .ssh folder\nls ~/.ssh\nssh keys will look something like\nid_ed25519          id_ed25519.pub         id_rsa      id_rsa.pub\nThey are public/private pairs. Never share your private key. The public key is shared with remote systems (myserver or github) so they can check it matches the private key when you connect.\nIf no keys are present you will need to generate keys. The names rsa/ed25519 are names of algorithms for generate keys. rsa was the most common but is now quite old. ed25519 is more secure and recommended. If you do use rsa, it is recommended to create one with higher bits. The commands you will commonly see are\nssh-keygen -t rsa -b 4096\nssh-keygen -t ed25519\n-b here specifies the size of the key in bits. Pick one and now an id_rsa or id_ed25519 private&public pair will be present in your .ssh folder. A nice explanation of the algorithms and keys in general can be found here.\nWe now want to add our public key to the authorized keys in the remote server. First we need to copy the public key to the server\nscp ~/.ssh/id_ed25519.pub username@server.address:~/\n(we could use rsync here as shown above. scp works similarly.)\nWe then need to connect to the server\nssh username@server.address\nWe are now on the remote server. First check id_ed25519.pub was copied successfully,\nls ~/\nNow check if our authorized_keys file exists\nls ~/.ssh\nIf it doesn’t exist we need to create it\ntouch ~/.ssh/authorized_keys\ntouch is a helpful command that creates an empty text file. The authorized_keys file is simply a list of public keys. We you connect using ssh it checks if your key private key against the public keys stored in the authorized key list, if its a match you can connect.\nNow we want to add our public key to the authorized key list\ncat ~/id_ed25519.pub &gt;&gt; ~/.ssh/authorized_keys\ncat displays the contents of a file (in this case our public key) and &gt;&gt; pipes it into a file. So instead of seeing the output of the file in terminal, it is placed in the authorized_keys file. Note: &gt;&gt; appends to the end of the file. We could also use &gt; but this writes to file and would overwrite the content in authorized_keys.\n\n\n\n\nGuide to add ssh key to your github account (passwordless git commit, push, pull etc)\nMore in depth guide to add ssh key to authorized keys to allow passwordless ssh connections"
  },
  {
    "objectID": "posts/working-on-remote-server/2023-03-17-working-on-a-remote-server.html#ssh-config",
    "href": "posts/working-on-remote-server/2023-03-17-working-on-a-remote-server.html#ssh-config",
    "title": "Remote working with ssh & VSCode",
    "section": "",
    "text": "I discovered the ssh config through vscode (it is how it handles remote connections) but it is incredibly useful. It is particularly useful for complex ssh commands that involve a number of options like portforwarding or use a proxy to connect to a server. It really slims down how much you have to type and how many usernames server address etc you have to remember. The format is very simple. You write out the options for your connections and give it a name.\nSo instead of\nssh username@server.address\nYou can type\nssh myserver \nBy adding\nHost myserver\n    HostName server.address\n    User username\nto the ssh config file.\n\n\nFirst check the config file exists, your config should be located at ~/.ssh/config\nls ~/.ssh\nIf not create it using touch\ntouch ~/.ssh/config\nThe config file is simply a text file that has a specific format\nHost hostname1\n    SSH_OPTION value\n    SSH_OPTION value\n\nHost hostname2\n    SSH_OPTION value\n\n\n\nHere is an example of my setup to allow me to connect to myserver.inf.ed.ac.uk\nHost myserver\n    HostName myserver.inf.ed.ac.uk\n    User amarnane\n    ServerAliveInterval 30\nNote: I have made ServerAliveInterval smaller than default to try reduce the number of disconnects that happen while I work.\nSo now if I want to connect via ssh or copy files from my computer to the server I can just use myserver. For example moving public key to the server\nscp ~/.ssh/id_ed25519.pub myserver:~/\n\n\n\n\n\nSome more in depth guides for the config are here(I find this one easier to follow) and here\nList of all possible options to add to the config"
  },
  {
    "objectID": "posts/working-on-remote-server/2023-03-17-working-on-a-remote-server.html#footnotes",
    "href": "posts/working-on-remote-server/2023-03-17-working-on-a-remote-server.html#footnotes",
    "title": "Remote working with ssh & VSCode",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nPhoto from Dean Pugh on Unsplash↩︎\nlinks to guides down below↩︎\nagain a small guide down below↩︎\nI have some code for appending dates to filenames and backing up source code if you want it just send me a message or I can include them in this document?↩︎"
  },
  {
    "objectID": "posts.html",
    "href": "posts.html",
    "title": "Posts",
    "section": "",
    "text": "Order By\n       Default\n         \n          Title\n        \n         \n          Date - Oldest\n        \n         \n          Date - Newest\n        \n     \n  \n\n\n\n\n\n\n\n\n\n\nGetting Started with Quarto\n\n\n\nquarto\n\n\nbasic tutorial\n\n\njupyter\n\n\n\n\n\n\n\nAidan Marnane\n\n\nApr 28, 2023\n\n\n\n\n\n\n\n\n\n\n\n\nScientific Figures - with matplotlib\n\n\n\nmatplotlib\n\n\nseaborn\n\n\npython\n\n\nscience\n\n\nphd\n\n\n\n\n\n\n\nAidan Marnane, Aidan Marnane\n\n\nApr 27, 2023\n\n\n\n\n\n\n\n\n\n\n\n\nNohup & Tmux - Background Terminal Processes\n\n\n\ntmux\n\n\nnohup\n\n\nremote working\n\n\nbash\n\n\nlinux\n\n\n\n\n\n\n\nAidan Marnane, Aidan Marnane\n\n\nMar 28, 2023\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nRemote working with ssh & VSCode\n\n\n\nremote working\n\n\nssh\n\n\nbash\n\n\nvscode\n\n\nlinux\n\n\n\n\n\n\n\nAidan Marnane\n\n\nMar 17, 2023\n\n\n\n\n\n\n\n\nNo matching items"
  }
]